# Guardrails Benchmark

í•œêµ­ì–´ ìœ í•´ í”„ë¡¬í”„íŠ¸ì— ëŒ€í•œ AI ì•ˆì „ ê°€ë“œë ˆì¼ ì‹œìŠ¤í…œ ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí‚¹ ë„êµ¬ì…ë‹ˆë‹¤.

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

ì´ í”„ë¡œì íŠ¸ëŠ” í•œêµ­ì–´ ìœ í•´ ì½˜í…ì¸  íƒì§€ë¥¼ ìœ„í•œ ë‘ ê°€ì§€ ê°€ë“œë ˆì¼ ì‹œìŠ¤í…œì˜ ì„±ëŠ¥ì„ ë¹„êµ í‰ê°€í•©ë‹ˆë‹¤:
- **AWS Bedrock Guardrail**: Amazonì˜ í´ë¼ìš°ë“œ ê¸°ë°˜ ì•ˆì „ í•„í„°ë§ ì„œë¹„ìŠ¤
- **Kanana Safeguard**: ì»¤ìŠ¤í…€ AI ì•ˆì „ ëª¨ë¸ (8B, Siren 8B, Prompt 2.1B ì•™ìƒë¸”)

## ğŸ¯ ì£¼ìš” ê¸°ëŠ¥

- í•œêµ­ì–´ ìœ í•´ í”„ë¡¬í”„íŠ¸ ë°ì´í„°ì…‹ ìë™ ì²˜ë¦¬
- ë‘ ê°€ë“œë ˆì¼ ì‹œìŠ¤í…œì˜ ë³‘ë ¬ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸
- ì •ëŸ‰ì  ì„±ëŠ¥ ë¹„êµ ë° ë¶„ì„
- ê²°ê³¼ ì‹œê°í™” ë° ë¦¬í¬íŠ¸ ìƒì„±

## ğŸ“‚ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
guardrails_benchmark/
â”œâ”€â”€ guardrails_bench_kanana_bedrock.py  # ë©”ì¸ ë²¤ì¹˜ë§ˆí‚¹ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ harmful_prompts_results.csv         # ë²¤ì¹˜ë§ˆí¬ í…ŒìŠ¤íŠ¸ ê²°ê³¼
â”œâ”€â”€ result.ipynb                        # ê²°ê³¼ ë¶„ì„ ë…¸íŠ¸ë¶
â””â”€â”€ README.md                          # í”„ë¡œì íŠ¸ ë¬¸ì„œ
```

## ğŸ”§ ì‚¬ìš©ëœ ê¸°ìˆ  ìŠ¤íƒ

- **Python 3.x**
- **Datasets**: Hugging Face datasets ë¼ì´ë¸ŒëŸ¬ë¦¬
- **AWS Boto3**: Bedrock ì„œë¹„ìŠ¤ ì—°ë™
- **LangChain**: AI ëª¨ë¸ ì¸í„°í˜ì´ìŠ¤
- **Pandas**: ë°ì´í„° ì²˜ë¦¬ ë° ë¶„ì„
- **Langfuse**: AI ëª¨ë¸ ëª¨ë‹ˆí„°ë§ ë° ì¶”ì 

## ğŸ“Š ë°ì´í„°ì…‹

- **ì†ŒìŠ¤**: `iknow-lab/wildguardmix-train-ko` 
- **ì–¸ì–´**: í•œêµ­ì–´
- **í…ŒìŠ¤íŠ¸ ìƒ˜í”Œ**: 10,000ê°œì˜ ìœ í•´ í”„ë¡¬í”„íŠ¸
- **í‰ê°€ ê¸°ì¤€**: harmful/safe ë¶„ë¥˜ ì •í™•ë„

## ğŸš€ ì‚¬ìš© ë°©ë²•

### 1. í™˜ê²½ ì„¤ì •

```bash
pip install datasets pandas langfuse boto3 langchain-openai
```

### 2. ì¸ì¦ ì •ë³´ ì„¤ì •

ìŠ¤í¬ë¦½íŠ¸ ë‚´ì—ì„œ ë‹¤ìŒ ì •ë³´ë¥¼ ì„¤ì •í•˜ì„¸ìš”:
- AWS Bedrock ì ‘ê·¼ ê¶Œí•œ
- Langfuse API í‚¤
- Kanana Safeguard ëª¨ë¸ ì—”ë“œí¬ì¸íŠ¸

### 3. ë²¤ì¹˜ë§ˆí¬ ì‹¤í–‰

```bash
python guardrails_bench_kanana_bedrock.py
```

### 4. ê²°ê³¼ ë¶„ì„

```bash
jupyter notebook result.ipynb
```

## ğŸ“ˆ ë²¤ì¹˜ë§ˆí¬ ê²°ê³¼

ìµœê·¼ í…ŒìŠ¤íŠ¸ ê²°ê³¼ (10,000ê°œ ìƒ˜í”Œ):

| ê°€ë“œë ˆì¼ ì‹œìŠ¤í…œ | UNSAFE íŒì • | íƒì§€ìœ¨ |
|----------------|-------------|--------|
| Bedrock Guardrail | 7,123ê°œ | 71.2% |
| Kanana Safeguard | 8,534ê°œ | 85.3% |